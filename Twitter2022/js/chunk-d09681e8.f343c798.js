(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d09681e8"],{8146:function(t,e,s){},"976d":function(t,e,s){"use strict";s("bc98")},bc98:function(t,e,s){},c01e:function(t,e,s){"use strict";s.r(e);var a,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[t.isClickPopupReplyList?a("popupReplyList",{attrs:{tweet:t.tweet,user:t.user},on:{"close-PopupReplyList":t.closePopupReplyList,"after-create-reply-list":t.afterCreateReplyList}}):t._e(),a("navigation"),a("div",{staticClass:"reply-wrap"},[a("router-link",{staticClass:"reply-title",attrs:{to:"/tweets"}},[a("div",{staticClass:"reply-forward"},[a("img",{attrs:{src:s("cd4d"),alt:""}})]),a("h4",[t._v("推文")])]),a("div",{staticClass:"reply"},[a("div",{staticClass:"reply-inner"},[a("div",{staticClass:"reply-user"},[a("div",{staticClass:"reply-avatar"},[a("img",{attrs:{src:t.tweet.User.avatar,alt:""}})]),a("div",{staticClass:"reply-name-group"},[a("p",{staticClass:"reply-name"},[a("b",[t._v(t._s(t.tweet.User.name))])]),a("p",{staticClass:"reply-account fz14"},[t._v(" @"+t._s(t.tweet.User.account)+"・"+t._s(t._f("fromNow")(t.tweet.createdAt))+" ")])])]),a("div",{staticClass:"reply-text"},[t._v(" "+t._s(t.tweet.description)+" ")]),a("p",{staticClass:"fz14 reply-time"},[t._v(t._s(t.tweet.updatedAt))])]),a("div",{staticClass:"reply-count"},[a("div",{staticClass:"reply-num"},[a("span",[t._v(t._s(t.replies.length))]),t._v(" 回覆 ")]),a("div",{staticClass:"like-num"},[a("span",[t._v(" "+t._s(t.tweet.LikedUsers.length))]),t._v(" 喜歡次數 ")])]),a("div",{staticClass:"reply-count-btn"},[a("div",{staticClass:"reply-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.openPopupReplyList.apply(null,arguments)}}},[a("img",{attrs:{src:s("f5b6"),alt:""}})]),t.tweet.isLiked?a("div",{staticClass:"like-btn"},[a("img",{attrs:{src:s("7e3a"),alt:""}})]):t._e(),t.tweet.isLiked?t._e():a("div",{staticClass:"like-btn"},[a("img",{attrs:{src:s("3c8a"),alt:""}})])])]),a("div",{staticClass:"reply-tweet-wrap"},t._l(t.replies,(function(e){return a("div",{key:e.id,staticClass:"reply-tweet-card"},[a("div",{staticClass:"reply-tweet-avatar"},[a("img",{attrs:{src:e.User.avatar,alt:""}})]),a("div",{staticClass:"reply-tweet-content"},[a("div",{staticClass:"reply-tweet-name-group"},[a("p",{staticClass:"reply-tweet-name"},[a("b",[t._v(t._s(e.User.name))]),a("span",[t._v("@"+t._s(e.User.account)+"・"+t._s(t._f("fromNow")(e.createdAt)))])]),a("p",{staticClass:"reply-to fz14"},[a("span",[t._v("回覆")]),t._v(" @"+t._s(e.User.name)+" ")])]),a("div",{staticClass:"reply-tweet-text"},[a("p",[t._v(" "+t._s(e.comment)+" ")])]),a("div",{staticClass:"reply-tweet-count"},[t._m(0,!0),a("div",{staticClass:"reply-tweet-like"},[t._m(1,!0),a("p",{staticClass:"fz14"},[a("b",[t._v(t._s(e.LikedUsers.length))])])])])])])})),0)],1),a("followTop")],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reply-tweet-reply"},[a("div",{staticClass:"reply-tweet-reply-img"},[a("img",{attrs:{src:s("f5b6"),alt:""}})]),a("p",{staticClass:"fz14"},[a("b",[t._v("13")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reply-tweet-like-img"},[a("img",{attrs:{src:s("3c8a"),alt:""}})])}],p=s("1da1"),n=(s("b0c0"),s("96cf"),s("2708")),l=s("2fa3"),o=s("3d01"),c=s("447a"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popupReply-wrap"},[a("div",{staticClass:"overlay",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closePopupReplyList.apply(null,arguments)}}}),a("div",{staticClass:"popupReply"},[a("div",{staticClass:"popupReply-colse"},[a("div",{staticClass:"popupReply-colse-img",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closePopupReplyList.apply(null,arguments)}}},[a("img",{attrs:{src:s("3e02"),alt:""}})])]),a("div",{staticClass:"popupReply-text-wrap"},[a("div",{staticClass:"popupReply-user"},[a("div",{staticClass:"popupReply-avatar"},[a("div",{staticClass:"popupReply-avatar-img"},[a("img",{attrs:{src:t.tweet.User.avatar,alt:""}})])]),a("div",{staticClass:"popupReply-content"},[a("div",{staticClass:"popupReply-name-group"},[a("p",{staticClass:"popupReply-name"},[a("b",[t._v(t._s(t.tweet.User.name))])]),a("p",{staticClass:"popupReply-account fz14"},[t._v(" @"+t._s(t.tweet.User.account)+"・"+t._s(t._f("fromNow")(t.tweet.createdAt))+" ")])]),a("div",{staticClass:"popupReply-text"},[a("p",[t._v(" "+t._s(t.tweet.description)+" ")]),a("p",{staticClass:"reply-to fz14"},[a("span",[t._v("回覆")]),t._v(" @"+t._s(t.tweet.User.name)+" ")])])])]),a("div",{staticClass:"popupReply-again-inner"},[a("div",{staticClass:"popupReply-again-avatar"},[a("img",{attrs:{src:t.user.avatar,alt:""}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.popupText,expression:"popupText"}],attrs:{name:"",id:"",maxlength:"80",placeholder:"推你的回覆"},domProps:{value:t.popupText},on:{input:function(e){e.target.composing||(t.popupText=e.target.value)}}})]),a("div",{staticClass:"popupReply-btn-wrap"},[t.popupText.length>=80?a("div",{staticClass:"post-text-num-warning"},[t._v(" 字數不可超過 80 字 ")]):t._e(),t.popupText.length<=0?a("div",{staticClass:"post-text-num-warning"},[t._v(" 不得為空白 ")]):t._e(),a("div",{staticClass:"btn popupReply-btn active",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[t._v(" 推文 ")])])])])])},d=[],v=(s("498a"),new Uint8Array(16));function f(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(v)}var m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function y(t){return"string"===typeof t&&m.test(t)}for(var w=y,C=[],g=0;g<256;++g)C.push((g+256).toString(16).substr(1));function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(C[t[e+0]]+C[t[e+1]]+C[t[e+2]]+C[t[e+3]]+"-"+C[t[e+4]]+C[t[e+5]]+"-"+C[t[e+6]]+C[t[e+7]]+"-"+C[t[e+8]]+C[t[e+9]]+"-"+C[t[e+10]]+C[t[e+11]]+C[t[e+12]]+C[t[e+13]]+C[t[e+14]]+C[t[e+15]]).toLowerCase();if(!w(s))throw TypeError("Stringified UUID is invalid");return s}var h=A;function _(t,e,s){t=t||{};var a=t.random||(t.rng||f)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){s=s||0;for(var i=0;i<16;++i)e[s+i]=a[i];return e}return h(a)}var R=_,b={name:"popupReplyList",props:{tweet:{type:Object,required:!0},user:{type:Object,required:!0}},data:function(){return{popupText:""}},methods:{closePopupReplyList:function(){this.$emit("close-PopupReplyList",{isClickPopupReplyList:!1})},handleSubmit:function(){console.log("handleSubmit33"),this.popupText.trim()&&(this.$emit("after-create-reply-list",{tweetId:R(),tweetText:this.popupText}),this.popupText="")}},mixins:[n["a"]]},x=b,k=(s("976d"),s("2877")),L=Object(k["a"])(x,u,d,!1,null,"8763a84e",null),T=L.exports,U=s("6783"),P={status:"success",user:{id:1,account:"user1",name:"user1",email:"user1@example.com",password:"$2a$10$DRteVVsafLSZdoetjOpfdeSYGf3t5SuswRL3sRrSvdGpS3ACmU5NG",role:"user",introduction:"Deleniti est id inventore.",avatar:"https://loremflickr.com/320/240/people/?random=73.0908396968221",cover:"https://loremflickr.com/320/240/restaurant,food/?random=79.46570629965461",createdAt:"2022-05-13T15:55:16.000Z",updatedAt:"2022-05-13T15:55:16.000Z"}},S={name:"tweet",components:{navigation:o["a"],followTop:c["a"],popupReplyList:T},data:function(){return{isClickPopupReplyList:!1,tweet:{},replies:{},user:P.user}},methods:{fetchTweet:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function s(){var a,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,U["a"].getTweet(t);case 3:a=s.sent,i=a.data,r=i.data.tweet,e.tweet=r,console.log("this.tweet",e.tweet),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),l["a"].fire({icon:"error",title:"無法取得餐廳資料，請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},fetchTweetReplies:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function s(){var a,i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,U["a"].getTweetReplies(t);case 3:a=s.sent,i=a.data,r=i.data.replies,e.replies=r,console.log("replies",r),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),l["a"].fire({icon:"error",title:"無法取得餐廳資料，請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},openPopupReplyList:function(){console.log(this.isClickPopupReplyList),this.isClickPopupReplyList=!0},closePopupReplyList:function(t){var e=t.isClickPopupReplyList;this.isClickPopupReplyList=e},afterCreateReplyList:function(t){var e=t.tweetText,s=t.tweetId;console.log("payload",t),this.replies.unshift({id:s,comment:e,User:{id:this.user.id,account:this.user.account,name:this.user.name,avatar:this.user.avatar},createdAt:new Date}),this.isClickPopupTweet=!1}},created:function(){var t=this.$route.params.id;this.fetchTweet(t),this.fetchTweetReplies(t)},mixins:[n["a"]]},E=S,I=(s("ec04"),Object(k["a"])(E,i,r,!1,null,"2cd25368",null));e["default"]=I.exports},cd4d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABISURBVHgB7dSxCQAgEAPA4CTZfylHUYu3ULBRgwg5SJuAyANmgS05IisvEAxwKicuostXevluho+Q8AAhfiKPHI9IEMJjZ5+rIuYyEJF8+1IAAAAASUVORK5CYII="},ec04:function(t,e,s){"use strict";s("8146")}}]);
//# sourceMappingURL=chunk-d09681e8.f343c798.js.map